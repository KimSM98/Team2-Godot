[gd_scene load_steps=26 format=2]

[ext_resource path="res://Scenes/Background/Background.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Enemy/Friend.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Enemy/Patroller.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Enemy/Patroller_Destination.tscn" type="PackedScene" id=5]
[ext_resource path="res://Animation Frames/Friends/Friend_YellowHat.tres" type="SpriteFrames" id=6]
[ext_resource path="res://Animation Frames/Friends/Friend_Bold.tres" type="SpriteFrames" id=7]
[ext_resource path="res://Animation Frames/Friends/Friend_Headband.tres" type="SpriteFrames" id=8]
[ext_resource path="res://Assets/UI/RestartButton.png" type="Texture" id=9]
[ext_resource path="res://Scenes/Enemy/Cat.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/Enemy/Car.tscn" type="PackedScene" id=11]
[ext_resource path="res://Animation Frames/Cars/Car_Green.tres" type="SpriteFrames" id=12]
[ext_resource path="res://Animation Frames/Cars/Car_Yellow.tres" type="SpriteFrames" id=13]
[ext_resource path="res://Scenes/Items/CatItem.tscn" type="PackedScene" id=14]
[ext_resource path="res://Scenes/Items/SpeedUp.tscn" type="PackedScene" id=15]
[ext_resource path="res://Scripts/GameManager.gd" type="Script" id=16]
[ext_resource path="res://Scenes/Items/Paper.tscn" type="PackedScene" id=17]
[ext_resource path="res://Fonts/CountFont.tres" type="DynamicFont" id=18]
[ext_resource path="res://Scenes/Goal/Goal.tscn" type="PackedScene" id=19]
[ext_resource path="res://Fonts/Score.tres" type="DynamicFont" id=20]
[ext_resource path="res://Assets/Item/Paper2.png" type="Texture" id=21]
[ext_resource path="res://Fonts/GameOverFont.tres" type="DynamicFont" id=22]
[ext_resource path="res://Scenes/Buildings/School.tscn" type="PackedScene" id=23]

[sub_resource type="StyleBoxFlat" id=2]
bg_color = Color( 1, 0.407843, 0.407843, 1 )
border_width_left = 1
border_width_top = 1
border_width_bottom = 1
corner_radius_top_left = 3
corner_radius_bottom_left = 3
corner_detail = 10

[sub_resource type="StyleBoxFlat" id=3]
bg_color = Color( 1, 1, 1, 1 )
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3
corner_detail = 10

[node name="Main" type="Node2D"]
script = ExtResource( 16 )
collectibleCountLabelPath = NodePath("CountUI/CollectibleCount")
maxCollectibleCountLabelPath = NodePath("CountUI/MaxCollectibleCount")
gameOverUIPath = NodePath("GameOverUI")
scoreLabelPath = NodePath("GameOverUI/Score")
restartButtonPath = NodePath("GameOverUI/RestartButton")

[node name="Background" parent="." instance=ExtResource( 1 )]

[node name="Cars" type="Node2D" parent="."]

[node name="Car" parent="Cars" instance=ExtResource( 11 )]
position = Vector2( 660, -32 )

[node name="Patroller" parent="Cars/Car" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")
speed = 3.0

[node name="Patroller_Destination" parent="Cars/Car" instance=ExtResource( 5 )]
position = Vector2( 0, 385 )

[node name="Car4" parent="Cars" instance=ExtResource( 11 )]
position = Vector2( 700, 730 )

[node name="Patroller" parent="Cars/Car4" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")
speed = 3.0

[node name="Patroller_Destination" parent="Cars/Car4" instance=ExtResource( 5 )]
position = Vector2( 0, -375.5 )

[node name="Car2" parent="Cars" instance=ExtResource( 11 )]
position = Vector2( 1307, 291 )
spriteFrames = ExtResource( 12 )

[node name="Patroller" parent="Cars/Car2" instance=ExtResource( 4 )]
position = Vector2( 0.5, 0 )
destinationPath = NodePath("../Patroller_Destination")
speed = 1.0

[node name="Patroller_Destination" parent="Cars/Car2" instance=ExtResource( 5 )]
position = Vector2( -670, 0 )

[node name="Car3" parent="Cars" instance=ExtResource( 11 )]
position = Vector2( -34, 332 )
spriteFrames = ExtResource( 13 )

[node name="Patroller" parent="Cars/Car3" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")
speed = 2.0

[node name="Patroller_Destination" parent="Cars/Car3" instance=ExtResource( 5 )]
position = Vector2( 670, 0 )

[node name="Enemies" type="Node2D" parent="."]

[node name="Friend_1" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 745, 270 )

[node name="Patroller" parent="Enemies/Friend_1" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")

[node name="Patroller_Destination" parent="Enemies/Friend_1" instance=ExtResource( 5 )]
position = Vector2( 118, 0 )

[node name="Friend_2" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 622, 20 )
spriteFrames = ExtResource( 6 )

[node name="Patroller" parent="Enemies/Friend_2" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")

[node name="Patroller_Destination" parent="Enemies/Friend_2" instance=ExtResource( 5 )]
position = Vector2( 0, 120 )

[node name="Friend_3" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 21, 385 )
spriteFrames = ExtResource( 7 )

[node name="Patroller" parent="Enemies/Friend_3" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")
speed = 3.0

[node name="Patroller_Destination" parent="Enemies/Friend_3" instance=ExtResource( 5 )]
position = Vector2( 297.5, 0 )

[node name="Friend_4" parent="Enemies" instance=ExtResource( 3 )]
position = Vector2( 800, 385 )
spriteFrames = ExtResource( 8 )

[node name="Patroller" parent="Enemies/Friend_4" instance=ExtResource( 4 )]
destinationPath = NodePath("../Patroller_Destination")
speed = 3.0

[node name="Patroller_Destination" parent="Enemies/Friend_4" instance=ExtResource( 5 )]
position = Vector2( 223, 150 )

[node name="Cat" parent="Enemies" instance=ExtResource( 10 )]
position = Vector2( 581, 459 )

[node name="CatItem" parent="." instance=ExtResource( 14 )]
position = Vector2( 490, 225 )

[node name="SpeedUpItem" parent="." instance=ExtResource( 15 )]
position = Vector2( 817, 159 )

[node name="SpeedUpItem2" parent="." instance=ExtResource( 15 )]
position = Vector2( 766, 499 )

[node name="Buildings" type="Node2D" parent="."]

[node name="School" parent="Buildings" instance=ExtResource( 23 )]
position = Vector2( 244, 1 )

[node name="Goal" parent="Buildings" instance=ExtResource( 19 )]
position = Vector2( 422, 196 )

[node name="Collectibles" type="Node" parent="." groups=["COLLECTIBLES"]]

[node name="Paper" parent="Collectibles" instance=ExtResource( 17 )]
position = Vector2( 406, 244 )

[node name="Paper2" parent="Collectibles" instance=ExtResource( 17 )]
position = Vector2( 933, 218 )

[node name="Paper3" parent="Collectibles" instance=ExtResource( 17 )]
position = Vector2( 989, 81 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 626, 276 )

[node name="HealthBar" type="ProgressBar" parent="Player"]
margin_left = -31.5
margin_top = -22.5
margin_right = 31.5
margin_bottom = -16.5
custom_styles/fg = SubResource( 2 )
custom_styles/bg = SubResource( 3 )
value = 98.0
percent_visible = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ms" type="Timer" parent="Player"]
wait_time = 0.1
autostart = true

[node name="CountUI" type="Control" parent="."]
margin_left = 1043.0
margin_right = 1315.0
margin_bottom = 39.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="CollectibleCount" type="Label" parent="CountUI"]
margin_left = 116.0
margin_top = 2.0
margin_right = 177.0
margin_bottom = 39.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_fonts/font = ExtResource( 18 )
text = "10"
align = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MaxCollectibleCount" type="Label" parent="CountUI"]
margin_left = 179.0
margin_top = 2.0
margin_right = 233.0
margin_bottom = 39.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_fonts/font = ExtResource( 18 )
text = "/10"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PaperTextureRect" type="TextureRect" parent="CountUI"]
margin_left = 66.0
margin_top = -10.0
margin_right = 266.0
margin_bottom = 127.0
rect_scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 21 )
expand = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GameOverUI" type="Control" parent="."]
pause_mode = 2
visible = false
margin_left = 583.0
margin_top = 283.0
margin_right = 772.0
margin_bottom = 373.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="GameOverUI"]
margin_left = -584.0
margin_top = -288.0
margin_right = 702.0
margin_bottom = 445.0
color = Color( 0, 0, 0, 0.439216 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GameOver" type="Label" parent="GameOverUI"]
margin_left = -82.0
margin_top = -63.0
margin_right = 278.0
margin_bottom = 17.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 22 )
text = "GameOver!"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Score" type="Label" parent="GameOverUI"]
margin_left = -11.0
margin_top = 15.0
margin_right = 202.0
margin_bottom = 168.0
custom_fonts/font = ExtResource( 20 )
text = "SCORE
A"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RestartButton" type="TextureButton" parent="GameOverUI"]
margin_left = 58.0
margin_top = 176.0
margin_right = 74.0
margin_bottom = 192.0
rect_scale = Vector2( 5, 5 )
texture_normal = ExtResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GameStartUI" type="Control" parent="."]
margin_left = 583.0
margin_top = 283.0
margin_right = 623.0
margin_bottom = 323.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect" type="ColorRect" parent="GameStartUI"]
margin_left = -585.0
margin_top = -291.0
margin_right = 701.0
margin_bottom = 442.0
color = Color( 0, 0, 0, 0.439216 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GameOver" type="Label" parent="GameStartUI"]
margin_left = -83.0
margin_top = -62.0
margin_right = 277.0
margin_bottom = 18.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 22 )
text = "Game Start?"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RestartButton" type="TextureButton" parent="GameStartUI"]
margin_left = 348.0
margin_top = 1056.0
margin_right = 364.0
margin_bottom = 1072.0
rect_scale = Vector2( 5, 5 )
texture_normal = ExtResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="timeout" from="Player/ms" to="Player" method="_on_ms_timeout"]
